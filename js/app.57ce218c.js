(function(){"use strict";var e={7004:function(e,s,r){var t=r(9242),n=r(3396);const o={class:"container"};function l(e,s,r,t,l,i){const a=(0,n.up)("PersonSearch"),c=(0,n.up)("PersonsList"),u=(0,n.up)("PersonDetails");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(a,{class:"search-area",onFilterPersons:e.filterPersons},null,8,["onFilterPersons"]),(0,n.Wm)(c,{class:"list-area",filtered_persons:e.filtered_persons,onSelectPerson:e.selectPerson,onRequestPersons:e.requestPersons},null,8,["filtered_persons","onSelectPerson","onRequestPersons"]),(0,n.Wm)(u,{class:"details-area",selected_person:e.selected_person},null,8,["selected_person"])])}r(6699);function i(e,s,r,o,l,i){return(0,n.wy)(((0,n.wg)(),(0,n.iD)("input",{"onUpdate:modelValue":s[0]||(s[0]=s=>e.search_query=s),onInput:s[1]||(s[1]=(...s)=>e.handleSearch&&e.handleSearch(...s))},null,544)),[[t.nr,e.search_query]])}var a=(0,n.aZ)({data(){return{search_query:""}},mounted(){const e=localStorage.getItem("search_query");e&&(this.search_query=e,this.$emit("filterPersons",this.search_query))},methods:{handleSearch(){this.$emit("filterPersons",this.search_query),localStorage.setItem("search_query",this.search_query)}}}),c=r(89);const u=(0,c.Z)(a,[["render",i]]);var p=u,d=r(7139);const h={class:"list"},f=["onClick"],_=["src"];function m(e,s,r,t,o,l){return(0,n.wg)(),(0,n.iD)("ul",h,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.filtered_persons,((s,r)=>((0,n.wg)(),(0,n.iD)("li",{key:"person"+r,class:"list-item",onClick:s=>e.$emit("selectPerson",r)},[(0,n._)("img",{class:"thumbnail",src:s.picture?.thumbnail},null,8,_),(0,n._)("span",null,(0,d.zw)(s.name.first)+" "+(0,d.zw)(s.name.last),1)],8,f)))),128)),(0,n._)("a",{onClick:s[0]||(s[0]=s=>e.$emit("requestPersons")),href:"#",ref:"moreResults"}," More Results ",512)])}var v=(0,n.aZ)({props:{filtered_persons:{type:Array},active:{type:Number}},mounted(){this.intersectionObserver()},methods:{intersectionObserver(){const e=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting)return this.$emit("requestPersons")}))}));let s=this.$refs.moreResults;e.observe(s)}}});const w=(0,c.Z)(v,[["render",m],["__scopeId","data-v-70da412e"]]);var g=w;const y={class:"details card"},P={class:"details-header"},b=["src","alt"],q={class:"title"},O=(0,n.Uk)(" Address: ");function S(e,s,r,o,l,i){return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",y,[(0,n._)("div",P,[(0,n._)("img",{class:"details-photo",src:e.selected_person?.picture?.large,alt:e.selected_person?.name?.last},null,8,b),(0,n._)("p",q,(0,d.zw)(e.selected_person?.name?.first)+" "+(0,d.zw)(e.selected_person?.name?.last),1),(0,n.wy)((0,n._)("p",null,[(0,n._)("label",null,"ID: "+(0,d.zw)(e.selected_person?.id?.name)+" "+(0,d.zw)(e.selected_person?.id?.value),1)],512),[[t.F8,e.selected_person?.id?.name]]),(0,n._)("p",null," Cellphone: "+(0,d.zw)(e.selected_person?.cell),1),(0,n._)("p",null," Phone: "+(0,d.zw)(e.selected_person?.phone),1),(0,n._)("p",null," Email: "+(0,d.zw)(e.selected_person?.email),1),(0,n._)("div",null,[O,(0,n._)("p",null,(0,d.zw)(e.selected_person?.location?.street.name)+" "+(0,d.zw)(e.selected_person?.location?.street.number),1),(0,n._)("p",null,(0,d.zw)(e.selected_person?.location?.postcode)+" "+(0,d.zw)(e.selected_person?.location?.state),1),(0,n._)("p",null,(0,d.zw)(e.selected_person?.location?.country),1)])])],512)),[[t.F8,e.selected_person?.name?.first]])}var z=(0,n.aZ)({props:{selected_person:{type:Object}}});const C=(0,c.Z)(z,[["render",S]]);var I=C,k=(0,n.aZ)({name:"App",components:{PersonsList:g,PersonDetails:I,PersonSearch:p},data(){return{persons:[],filtered_persons:[],search_query:"",storage:"",selected_person:{}}},mounted(){const e=JSON.parse(localStorage.getItem("persons")||"null");e?this.persons=e:this.requestPersons();const s=JSON.parse(localStorage.getItem("selected_person")||"null");s&&(this.selected_person=s)},methods:{requestPersons(e=25){fetch(`https://randomuser.me/api/?results=${e}`).then((e=>e.json())).then((e=>{this.persons=this.persons.concat(e.results),this.filtered_persons=this.persons,localStorage.setItem("persons",JSON.stringify(this.persons)),this.filterPersons(this.search_query)}))},filterPersons(e){this.search_query=e,this.filtered_persons=this.persons.filter((s=>s.name.first.toLowerCase().includes(e.toLowerCase())||s.name.last.toLowerCase().includes(e.toLowerCase())||s.gender?.toLowerCase()==e.toLowerCase()))},selectPerson(e){this.selected_person=this.filtered_persons[e],localStorage.setItem("selected_person",JSON.stringify(this.filtered_persons[e]))}}});const D=(0,c.Z)(k,[["render",l],["__scopeId","data-v-813fa9b0"]]);var j=D;(0,t.ri)(j).mount("#app")}},s={};function r(t){var n=s[t];if(void 0!==n)return n.exports;var o=s[t]={exports:{}};return e[t](o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(s,t,n,o){if(!t){var l=1/0;for(u=0;u<e.length;u++){t=e[u][0],n=e[u][1],o=e[u][2];for(var i=!0,a=0;a<t.length;a++)(!1&o||l>=o)&&Object.keys(r.O).every((function(e){return r.O[e](t[a])}))?t.splice(a--,1):(i=!1,o<l&&(l=o));if(i){e.splice(u--,1);var c=n();void 0!==c&&(s=c)}}return s}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[t,n,o]}}(),function(){r.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(s,{a:s}),s}}(),function(){r.d=function(e,s){for(var t in s)r.o(s,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={143:0};r.O.j=function(s){return 0===e[s]};var s=function(s,t){var n,o,l=t[0],i=t[1],a=t[2],c=0;if(l.some((function(s){return 0!==e[s]}))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(a)var u=a(r)}for(s&&s(t);c<l.length;c++)o=l[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},t=self["webpackChunkvc_trade_fe_cc"]=self["webpackChunkvc_trade_fe_cc"]||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))}();var t=r.O(void 0,[998],(function(){return r(7004)}));t=r.O(t)})();
//# sourceMappingURL=app.57ce218c.js.map